<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hebrew-English Auto Switcher - Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.2em;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .demo-section {
            background: #1e1e2e;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .demo-title {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: #00d4ff;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .demo-title .icon {
            font-size: 1.5em;
        }
        
        .editor {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            min-height: 80px;
            font-size: 1.4em;
            color: #333;
            position: relative;
            overflow: hidden;
        }
        
        .editor.rtl {
            direction: rtl;
            text-align: right;
        }
        
        .editor.ltr {
            direction: ltr;
            text-align: left;
        }
        
        .cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background: #333;
            animation: blink 1s infinite;
            vertical-align: text-bottom;
            margin-left: 2px;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .typed-text {
            display: inline;
        }
        
        .correction-flash {
            animation: flash 0.3s ease;
        }
        
        @keyframes flash {
            0%, 100% { background: #fff; }
            50% { background: #90EE90; }
        }
        
        .keyboard-indicator {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        
        .lang-badge {
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .lang-badge.en {
            background: #2196F3;
            color: white;
        }
        
        .lang-badge.he {
            background: #4CAF50;
            color: white;
        }
        
        .lang-badge.inactive {
            opacity: 0.3;
        }
        
        .lang-badge.active {
            opacity: 1;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(255,255,255,0.3);
        }
        
        .direction-badge {
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            background: #9C27B0;
            color: white;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,212,255,0.4);
        }
        
        .btn-secondary {
            background: #444;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #555;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature-card {
            background: #252535;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .feature-card .icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .feature-card h3 {
            color: #00d4ff;
            margin-bottom: 10px;
        }
        
        .feature-card p {
            color: #aaa;
            font-size: 0.95em;
        }
        
        .status-bar {
            background: #252535;
            border-radius: 8px;
            padding: 10px 15px;
            margin-top: 15px;
            font-family: monospace;
            font-size: 0.85em;
            color: #0f0;
            max-height: 100px;
            overflow-y: auto;
        }
        
        .status-line {
            margin: 3px 0;
        }
        
        .demo-description {
            color: #aaa;
            margin-bottom: 15px;
            font-size: 0.95em;
        }
        
        .hotkey {
            display: inline-block;
            background: #333;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.85em;
            border: 1px solid #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ Hebrew-English Auto Switcher</h1>
        <p class="subtitle">Automatic keyboard language correction for bilingual typing</p>
        
        <!-- Demo 1: Basic Correction -->
        <div class="demo-section">
            <div class="demo-title">
                <span class="icon">âœ¨</span>
                Demo 1: Auto Language Correction
            </div>
            <p class="demo-description">
                Type in the wrong language? The tool automatically detects and corrects it!
            </p>
            <div class="editor ltr" id="editor1">
                <span class="typed-text" id="text1"></span><span class="cursor"></span>
            </div>
            <div class="keyboard-indicator">
                <span class="lang-badge en active" id="lang1-en">EN English</span>
                <span class="lang-badge he inactive" id="lang1-he">HE ×¢×‘×¨×™×ª</span>
            </div>
            <div class="status-bar" id="status1"></div>
            <div class="controls">
                <button class="btn btn-primary" onclick="runDemo1()">â–¶ Run Demo</button>
                <button class="btn btn-secondary" onclick="resetDemo1()">â†º Reset</button>
            </div>
        </div>
        
        <!-- Demo 2: RTL/LTR Direction -->
        <div class="demo-section">
            <div class="demo-title">
                <span class="icon">â†”ï¸</span>
                Demo 2: Automatic Text Direction
            </div>
            <p class="demo-description">
                Text direction (RTL/LTR) is automatically set based on the first word of each line.
            </p>
            <div class="editor ltr" id="editor2">
                <span class="typed-text" id="text2"></span><span class="cursor"></span>
            </div>
            <div class="keyboard-indicator">
                <span class="lang-badge en inactive" id="lang2-en">EN English</span>
                <span class="lang-badge he active" id="lang2-he">HE ×¢×‘×¨×™×ª</span>
                <span class="direction-badge" id="dir2">LTR â†’</span>
            </div>
            <div class="status-bar" id="status2"></div>
            <div class="controls">
                <button class="btn btn-primary" onclick="runDemo2()">â–¶ Run Demo</button>
                <button class="btn btn-secondary" onclick="resetDemo2()">â†º Reset</button>
            </div>
        </div>
        
        <!-- Demo 3: Punctuation -->
        <div class="demo-section">
            <div class="demo-title">
                <span class="icon">ğŸ“</span>
                Demo 3: Punctuation Handling
            </div>
            <p class="demo-description">
                Punctuation marks are preserved during correction: "hello," â†’ "×©×œ×•×,"
            </p>
            <div class="editor ltr" id="editor3">
                <span class="typed-text" id="text3"></span><span class="cursor"></span>
            </div>
            <div class="keyboard-indicator">
                <span class="lang-badge en active" id="lang3-en">EN English</span>
                <span class="lang-badge he inactive" id="lang3-he">HE ×¢×‘×¨×™×ª</span>
                <span class="direction-badge" id="dir3">LTR â†’</span>
            </div>
            <div class="status-bar" id="status3"></div>
            <div class="controls">
                <button class="btn btn-primary" onclick="runDemo3()">â–¶ Run Demo</button>
                <button class="btn btn-secondary" onclick="resetDemo3()">â†º Reset</button>
            </div>
        </div>
        
        <!-- Demo 4: Undo -->
        <div class="demo-section">
            <div class="demo-title">
                <span class="icon">â†©ï¸</span>
                Demo 4: Undo Correction
            </div>
            <p class="demo-description">
                Made an unwanted correction? Press <span class="hotkey">Ctrl + `</span> to undo!
            </p>
            <div class="editor ltr" id="editor4">
                <span class="typed-text" id="text4"></span><span class="cursor"></span>
            </div>
            <div class="keyboard-indicator">
                <span class="lang-badge en active" id="lang4-en">EN English</span>
                <span class="lang-badge he inactive" id="lang4-he">HE ×¢×‘×¨×™×ª</span>
            </div>
            <div class="status-bar" id="status4"></div>
            <div class="controls">
                <button class="btn btn-primary" onclick="runDemo4()">â–¶ Run Demo</button>
                <button class="btn btn-secondary" onclick="resetDemo4()">â†º Reset</button>
            </div>
        </div>
        
        <!-- Features -->
        <div class="features">
            <div class="feature-card">
                <div class="icon">ğŸ”</div>
                <h3>Smart Detection</h3>
                <p>Uses dictionaries to detect if a word belongs to Hebrew or English</p>
            </div>
            <div class="feature-card">
                <div class="icon">âš¡</div>
                <h3>Real-time</h3>
                <p>Corrections happen instantly when you press space or enter</p>
            </div>
            <div class="feature-card">
                <div class="icon">ğŸ“š</div>
                <h3>Force-Fix & Learn</h3>
                <p>Press Ctrl+` on unfixed words to fix AND teach the program</p>
            </div>
            <div class="feature-card">
                <div class="icon">ğŸ”¤</div>
                <h3>Auto-Capitalize</h3>
                <p>First word of line is capitalized when corrected to English</p>
            </div>
        </div>
    </div>
    
    <script>
        // Typing animation helper
        async function typeText(elementId, text, delay = 80) {
            const element = document.getElementById(elementId);
            for (let char of text) {
                element.textContent += char;
                await sleep(delay);
            }
        }
        
        async function deleteText(elementId, count, delay = 40) {
            const element = document.getElementById(elementId);
            for (let i = 0; i < count; i++) {
                element.textContent = element.textContent.slice(0, -1);
                await sleep(delay);
            }
        }
        
        function addStatus(statusId, message) {
            const status = document.getElementById(statusId);
            const line = document.createElement('div');
            line.className = 'status-line';
            line.textContent = '> ' + message;
            status.appendChild(line);
            status.scrollTop = status.scrollHeight;
        }
        
        function clearStatus(statusId) {
            document.getElementById(statusId).innerHTML = '';
        }
        
        function setLang(demoNum, lang) {
            const enBadge = document.getElementById(`lang${demoNum}-en`);
            const heBadge = document.getElementById(`lang${demoNum}-he`);
            if (lang === 'en') {
                enBadge.classList.add('active');
                enBadge.classList.remove('inactive');
                heBadge.classList.remove('active');
                heBadge.classList.add('inactive');
            } else {
                heBadge.classList.add('active');
                heBadge.classList.remove('inactive');
                enBadge.classList.remove('active');
                enBadge.classList.add('inactive');
            }
        }
        
        function setDirection(demoNum, dir) {
            const editor = document.getElementById(`editor${demoNum}`);
            const dirBadge = document.getElementById(`dir${demoNum}`);
            if (dir === 'rtl') {
                editor.classList.remove('ltr');
                editor.classList.add('rtl');
                if (dirBadge) dirBadge.textContent = 'â† RTL';
            } else {
                editor.classList.remove('rtl');
                editor.classList.add('ltr');
                if (dirBadge) dirBadge.textContent = 'LTR â†’';
            }
        }
        
        function flashEditor(demoNum) {
            const editor = document.getElementById(`editor${demoNum}`);
            editor.classList.add('correction-flash');
            setTimeout(() => editor.classList.remove('correction-flash'), 300);
        }
        
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        // Demo 1: Basic Correction
        async function runDemo1() {
            resetDemo1();
            await sleep(500);
            
            addStatus('status1', 'Keyboard: HEBREW');
            addStatus('status1', 'User types: "Hello" (wrong keyboard!)');
            
            // Type Hebrew gibberish (what appears when typing English on Hebrew keyboard)
            await typeText('text1', '×™×§×š×š×', 100);
            await sleep(300);
            
            addStatus('status1', 'User presses SPACE...');
            await typeText('text1', ' ', 100);
            await sleep(500);
            
            addStatus('status1', 'Analyzing: "×™×§×š×š×" â†’ Not valid Hebrew');
            await sleep(400);
            addStatus('status1', 'Checking English: "Hello" â†’ Valid English!');
            await sleep(400);
            addStatus('status1', 'FIXING: Switch to English, type "Hello"');
            
            // Delete and correct
            await deleteText('text1', 6, 30);
            flashEditor(1);
            setLang(1, 'en');
            await typeText('text1', 'Hello ', 60);
            
            addStatus('status1', 'âœ“ Corrected successfully!');
        }
        
        function resetDemo1() {
            document.getElementById('text1').textContent = '';
            clearStatus('status1');
            setLang(1, 'he');
        }
        
        // Demo 2: RTL/LTR Direction
        async function runDemo2() {
            resetDemo2();
            await sleep(500);
            
            addStatus('status2', 'Starting new line in Outlook...');
            addStatus('status2', 'Default direction: LTR');
            await sleep(500);
            
            addStatus('status2', 'User types Hebrew word: "×©×œ×•×"');
            await typeText('text2', '×©×œ×•×', 100);
            await sleep(300);
            
            addStatus('status2', 'User presses SPACE...');
            await typeText('text2', ' ', 100);
            await sleep(500);
            
            addStatus('status2', 'First word is Hebrew â†’ Setting RTL direction');
            addStatus('status2', 'Sending: Ctrl+Right Shift');
            await sleep(300);
            
            flashEditor(2);
            setDirection(2, 'rtl');
            
            await sleep(500);
            addStatus('status2', 'âœ“ Direction changed to RTL!');
            
            await sleep(500);
            addStatus('status2', 'Continuing to type...');
            await typeText('text2', '××” ×©×œ×•××š ×”×™×•×?', 80);
        }
        
        function resetDemo2() {
            document.getElementById('text2').textContent = '';
            clearStatus('status2');
            setLang(2, 'he');
            setDirection(2, 'ltr');
        }
        
        // Demo 3: Punctuation
        async function runDemo3() {
            resetDemo3();
            await sleep(500);
            
            addStatus('status3', 'Keyboard: ENGLISH');
            addStatus('status3', 'User types Hebrew with punctuation: "akuo,"');
            
            // Type English letters (Hebrew keyboard shows Hebrew)
            await typeText('text3', 'akuo,', 100);
            await sleep(300);
            
            addStatus('status3', 'User presses SPACE...');
            await typeText('text3', ' ', 100);
            await sleep(500);
            
            addStatus('status3', 'Analyzing: Strip punctuation â†’ "akuo"');
            await sleep(400);
            addStatus('status3', 'Hebrew version: "×©×œ×•×" â†’ Valid Hebrew!');
            await sleep(400);
            addStatus('status3', 'FIXING: "×©×œ×•×" + "," â†’ "×©×œ×•×,"');
            
            // Delete and correct
            await deleteText('text3', 6, 30);
            flashEditor(3);
            setLang(3, 'he');
            await typeText('text3', '×©×œ×•×, ', 60);
            
            addStatus('status3', 'First word is Hebrew â†’ Setting RTL direction');
            await sleep(300);
            setDirection(3, 'rtl');
            
            addStatus('status3', 'âœ“ Corrected with punctuation preserved!');
        }
        
        function resetDemo3() {
            document.getElementById('text3').textContent = '';
            clearStatus('status3');
            setLang(3, 'en');
            setDirection(3, 'ltr');
        }
        
        // Demo 4: Undo
        async function runDemo4() {
            resetDemo4();
            await sleep(500);
            
            addStatus('status4', 'Keyboard: ENGLISH');
            addStatus('status4', 'User types a name: "danny"');
            
            await typeText('text4', 'danny', 100);
            await sleep(300);
            
            addStatus('status4', 'User presses SPACE...');
            await typeText('text4', ' ', 100);
            await sleep(500);
            
            addStatus('status4', 'Tool thinks it should be Hebrew...');
            await sleep(400);
            
            // Wrong correction
            await deleteText('text4', 6, 30);
            flashEditor(4);
            setLang(4, 'he');
            await typeText('text4', '×“×©×××˜ ', 60);
            
            addStatus('status4', 'âŒ Oops! "danny" was correct!');
            await sleep(800);
            
            addStatus('status4', 'User presses Ctrl+` to UNDO...');
            await sleep(500);
            
            // Undo
            await deleteText('text4', 6, 30);
            flashEditor(4);
            setLang(4, 'en');
            await typeText('text4', 'danny ', 60);
            
            addStatus('status4', 'âœ“ Undone! Original text restored.');
            await sleep(500);
            addStatus('status4', 'âœ“ Word "danny" automatically added to ignore list');
        }
        
        function resetDemo4() {
            document.getElementById('text4').textContent = '';
            clearStatus('status4');
            setLang(4, 'en');
        }
    </script>
</body>
</html>
